{% extends 'base.html' %}


{% block title %}
Secret Message
{% endblock title %}


{% block body %}

<style>
    .text-center {
  text-align: center;
}
.cf {
  *zoom: 1;
}
.cf:before, .cf:after {
  content: " ";
  display: table;
}
.cf:after {
  clear: both;
}
.spdiv {
  background-color: #161719;
  font-family: 'Roboto', sans-serif;
  color: #9fa2a7;
}
.spdiv .wrapper {
  max-width: 450px;
  margin: 0 auto;
}
.spdiv .wrapper h1 {
  margin-top: 50px;
  margin-bottom: 50px;
  text-transform: uppercase;
  font-size: 1.5em;
}
.spdiv .wrapper .speechbubble {
  background-color: #26272b;
  color: #9fa2a7;
  font-size: 0.8em;
  line-height: 1.75;
  padding: 15px 25px;
  margin-bottom: 75px;
  cursor: default;
}
.spdiv .wrapper .speechbubble:nth-child(2n) {
  border-left: 5px solid;
}
.spdiv .wrapper .speechbubble:nth-child(2n):after {
  content: '';
  margin-top: -30px;
  padding-top: 0px;
  position: relative;
  bottom: -45px;
  left: 20px;
  border-width: 30px 0 0 30px;
  border-style: solid;
  border-color: #26272b transparent;
  display: block;
  width: 0;
}
.spdiv .wrapper .speechbubble:nth-child(2n+1) {
  border-right: 5px solid;
}
.spdiv .wrapper .speechbubble:nth-child(2n+1):after {
  content: '';
  margin-top: -30px;
  padding-top: 0px;
  position: relative;
  bottom: -45px;
  left: 350px;
  border-width: 30px 30px 0 0;
  border-style: solid;
  border-color: #26272b transparent;
  display: block;
  width: 0;
}
.spdiv .wrapper .speechbubble:nth-child(4n+1) {
  border-color: #56b273;
}
.spdiv .wrapper .speechbubble:nth-child(4n+2) {
  border-color: #01AD9B;
}
.spdiv .wrapper .speechbubble:nth-child(4n+3) {
  border-color: #b388dd;
}
.spdiv .wrapper .speechbubble:nth-child(4n+4) {
  border-color: #ff8750;
}
.spdiv .wrapper .speechbubble p:before {
  content: "â€œ";
  font-family: Georgia;
  font-size: 40px;
  line-height: 0;
  display: inline-block;
  display: -webkit-inline-box;
}
.spdiv .wrapper .speechbubble .username {
  display: inline;
  font-style: italic;
  float: right;
}
.spdiv .wrapper .speechbubble .username:before {
  content: '- ';
}

</style>
<script>
    var customButtons = [
        {
            html: "<span class='mif-copy'></span>",
            cls: "Copy",
            onclick: "myFunction()"
        }
    ]
</script>

<div class="spdiv" style="overflow-x:hidden;">
    <div class="wrapper">
        <h1 class="text-center">MESSAGES RECEIVED <a href="{%url 'smsg_index'%}" class="button dark"><span class="mif-refresh icon"></a></h1>
        <div style="margin-bottom: 50px;">
            <h5>Share this link to receive anonymous messages:</h5>
            <input
                type="text"
                value="https://funapp.pythonanywhere.com/secret_msg/{{request.user.username}}"
                id="myInput"
                data-role="input"
                data-custom-buttons="customButtons"
                data-clear-button="false"
                readonly
            >
        </div>
        {%for message in messages %}
            <div class="speechbubble">
                <p>
                    {{message}}
                    <span class="username">Anonymous</span>
                </p>
            </div>
        {% endfor %}
    </div>
</div>


<script>
function myFunction() {
  var copyText = document.getElementById("myInput");
  copyText.select();
  copyText.setSelectionRange(0, 99999);
  document.execCommand("copy");

  var tooltip = document.getElementById("myTooltip");
  tooltip.innerHTML = "Copied: " + copyText.value;
}

function outFunc() {
  var tooltip = document.getElementById("myTooltip");
  tooltip.innerHTML = "Copy to clipboard";
}
</script>

{% endblock body %}
